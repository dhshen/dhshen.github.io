
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>ES6读书笔记 | 向上爬的蜗牛</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="dhshen">
    

    
    <meta name="description" content="1.ECMAScript 6 简介Babel是一个ES6转码器，可以将ES6代码转为ES5代码，从而在浏览器或其他环境执行。 在浏览器环境使用babel时需要将ES6代码写在&amp;lt;script type=&amp;quot;text/babel&amp;quot;&amp;gt;中。 2. let和const命令2.1 let命令let命令用于声明变量。其所声明的变量只在let命令所在的代码块内有效。 let不像var">
<meta name="keywords" content="ES6">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6读书笔记">
<meta property="og:url" content="https://dhshen.github.io/2016/09/09/ES6读书笔记/index.html">
<meta property="og:site_name" content="向上爬的蜗牛">
<meta property="og:description" content="1.ECMAScript 6 简介Babel是一个ES6转码器，可以将ES6代码转为ES5代码，从而在浏览器或其他环境执行。 在浏览器环境使用babel时需要将ES6代码写在&amp;lt;script type=&amp;quot;text/babel&amp;quot;&amp;gt;中。 2. let和const命令2.1 let命令let命令用于声明变量。其所声明的变量只在let命令所在的代码块内有效。 let不像var">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-01-15T11:51:16.728Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ES6读书笔记">
<meta name="twitter:description" content="1.ECMAScript 6 简介Babel是一个ES6转码器，可以将ES6代码转为ES5代码，从而在浏览器或其他环境执行。 在浏览器环境使用babel时需要将ES6代码写在&amp;lt;script type=&amp;quot;text/babel&amp;quot;&amp;gt;中。 2. let和const命令2.1 let命令let命令用于声明变量。其所声明的变量只在let命令所在的代码块内有效。 let不像var">

    
    <link rel="alternative" href="/atom.xml" title="向上爬的蜗牛" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="向上爬的蜗牛">向上爬的蜗牛</a></h1>
				<h2 class="blog-motto">记录搬砖路上的点点滴滴</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:dhshen.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/09/09/ES6读书笔记/" title="ES6读书笔记" itemprop="url">ES6读书笔记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="dhshen" target="_blank" itemprop="author">dhshen</a>
		
  <p class="article-time">
    <time datetime="2016-09-09T08:27:06.000Z" itemprop="datePublished"> 发表于 2016-09-09</time>
    
  </p>
</header>
	<div class="article-content">
		
		<h2 id="1-ECMAScript-6-简介"><a href="#1-ECMAScript-6-简介" class="headerlink" title="1.ECMAScript 6 简介"></a>1.ECMAScript 6 简介</h2><p>Babel是一个ES6转码器，可以将ES6代码转为ES5代码，从而在浏览器或其他环境执行。</p>
<p>在浏览器环境使用babel时需要将ES6代码写在<code>&lt;script type=&quot;text/babel&quot;&gt;</code>中。</p>
<h2 id="2-let和const命令"><a href="#2-let和const命令" class="headerlink" title="2. let和const命令"></a>2. let和const命令</h2><h3 id="2-1-let命令"><a href="#2-1-let命令" class="headerlink" title="2.1 let命令"></a>2.1 let命令</h3><p><font color="red">let命令</font>用于声明变量。其所声明的变量只在let命令所在的代码块内有效。</p>
<p>let不像var那样会发生“变量提升”现象。所以变量一定要在声明后使用，否则报错。</p>
<p>暂时性死区：在代码块内，使用let命令声明变量之前，该变量都是不可用的。在语法上称为暂时性死区。</p>
<p>ES6明确规定，如果区块中存在let和const命令，则这个区块对这些命令声明的变量从一开始就形成封闭作用域。只要在声明之前就使用这些变量，就会报错。</p>
<p>let不允许在相同作用域内重复声明一个变量。</p>
<h3 id="2-2-块级作用域"><a href="#2-2-块级作用域" class="headerlink" title="2.2 块级作用域"></a>2.2 块级作用域</h3><p>块级作用域的写法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	let tmp = ...;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ES6规定，函数本身的作用域在其所在的块级作用域之内。<br>块级作用域的出现，实际上使广泛应用的立即执行匿名函数不再必要了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//匿名函数写法</span><br><span class="line">(function()&#123;</span><br><span class="line">	...	</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">//块级作用域的写法</span><br><span class="line">&#123;</span><br><span class="line">	let tmp = ...;</span><br><span class="line">	...	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-3-const命令"><a href="#2-3-const命令" class="headerlink" title="2.3 const命令"></a>2.3 const命令</h3><p><strong><em>const命令</em></strong>用来声明常量。一旦声明，其值就不能改变。这意味着const一旦声明常量，就必须立即初始化，不能留到以后赋值。</p>
<p>const的作用域与let命令相同，只在声明所在的块级作用域内有效。</p>
<p>const声明的常量同样存在暂时性死区，只在声明后使用。</p>
<p>const也不可重复声明常量。</p>
<p><strong>const命令只是保证变量名指向的地址不变，并不保证改地址的数据不变，所以将一个对象变量声明为常量必须非常小心，因为对象本身是可变的。</strong></p>
<p>如果想将对象冻结，应该使用 <code>object.freeze</code>方法。</p>
<h3 id="2-4-跨模块常量"><a href="#2-4-跨模块常量" class="headerlink" title="2.4 跨模块常量"></a>2.4 跨模块常量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A.js	//设置跨模块的常量：export const</span><br><span class="line">export const A = 1;</span><br><span class="line">export const B = 2;</span><br><span class="line">export const C = 3;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">B.js	//引入其它模块定义的常量(第1种方式)</span><br><span class="line">import * as constants from &apos;./constants&apos;;	//引入其所有常量并封装成一个对象constants。</span><br><span class="line">console.log(constants.A);</span><br><span class="line">console.log(constants.B);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C.js	//引入其它模块定义的常量(第2种方式)</span><br><span class="line">import &#123;A,B&#125; from &apos;./constants&apos;;</span><br><span class="line">console.log(A);</span><br><span class="line">console.log(B);</span><br></pre></td></tr></table></figure>
<h3 id="2-5-全局对象的属性"><a href="#2-5-全局对象的属性" class="headerlink" title="2.5 全局对象的属性"></a>2.5 全局对象的属性</h3><p>在ES6中，var命令和function命令声明的全局变量依旧是全局对象的属性；<br>let命令、const命令和class命令声明的全局变量不属于全局对象的属性。</p>
<h2 id="3-变量的解析结构赋值"><a href="#3-变量的解析结构赋值" class="headerlink" title="3.变量的解析结构赋值"></a>3.变量的解析结构赋值</h2><p>ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构。</p>
<h3 id="3-1数组的解构赋值"><a href="#3-1数组的解构赋值" class="headerlink" title="3.1数组的解构赋值"></a>3.1数组的解构赋值</h3><h4 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">例如：</span><br><span class="line">var a = 3,</span><br><span class="line">	b = 4,</span><br><span class="line">	c = 5;</span><br><span class="line">可以写成：</span><br><span class="line">var [a,b,c] = [3,4,5];</span><br></pre></td></tr></table></figure>
<p>如果解构不成功，变量的值就等于undefined。</p>
<h4 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h4><p>解构赋值允许指定默认值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var [foo = true] = [];		   //foo = true;</span><br><span class="line">如果对应的赋值是undefined时默认值生效，否则赋值生效，例如：</span><br><span class="line">var [x = 1] = [undefined]		//x = 1</span><br><span class="line">var [x = 1] = [null]			 //x = null</span><br><span class="line">var [x = 1] = [2]				//x = 2</span><br></pre></td></tr></table></figure>
<p>默认值可以引用解构赋值的其它变量，但该变量必须已经声明。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let [x = 1, y = x] = []		//x = 1; y = 1</span><br><span class="line">let [x = 1, y = x] = [2]		//x = 2; y = 2</span><br><span class="line">let [x = 1, y = x] = [1，2]		//x = 1; y = 2</span><br></pre></td></tr></table></figure>
<h3 id="3-2-对象的解构赋值"><a href="#3-2-对象的解构赋值" class="headerlink" title="3.2 对象的解构赋值"></a>3.2 对象的解构赋值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var &#123; foo, bar &#125; = &#123; foo: &quot;aaa&quot;, bar: &quot;bbb&quot;&#125;;	//foo = &quot;aaa&quot;; bar = &quot;bbb&quot;</span><br><span class="line">var &#123;变量名,变量名,...&#125; = &#123;属性名:属性值,属性名:属性值,...&#125;</span><br></pre></td></tr></table></figure>
<p>对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，变量的取值由它的位置决定；而对象的属性没有次序，<strong>变量名必须与属性同名，才能取到正确的值</strong>。</p>
<p>如果变量名与属性名不一致，则必须写成下面这样（上面的写法实际上是一种简写的方式）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var &#123;属性名: 变量名,属性名: 变量名,...&#125; = &#123;属性名: 属性值, 属性名: 属性值, ...&#125;</span><br><span class="line">var &#123;foo: baz&#125; = &#123;foo:&quot;aaa&quot;,bar:&quot;bbb&quot;&#125;		//baz = &quot;aaa&quot;</span><br></pre></td></tr></table></figure>
<p>解构赋值的变量都会重新声明！<br>对象的解构也可以指定默认值，默认值生效的条件也是对象的属性值严格等于undefined</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var x;</span><br><span class="line">&#123;x&#125; = &#123;x:1&#125;</span><br></pre></td></tr></table></figure>
<p>上面这样写会报错，因为js引擎会将{x}理解成一个代码块，从而发生语法错误。只有不将大括号写在行首，才能解决这个问题，如将整个结构赋值语句放在了一个圆括号里面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(&#123;x&#125; = &#123;x: 1&#125;);</span><br></pre></td></tr></table></figure>
<p>对象的解构可以很方便地将现有的方法赋值到某个变量：<br><code>var {log,sin,cos} = Math</code><br>上面的代码将Math的3个方法赋值到了对应的变量上。</p>
<h3 id="3-3-字符串的解构赋值"><a href="#3-3-字符串的解构赋值" class="headerlink" title="3.3 字符串的解构赋值"></a>3.3 字符串的解构赋值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const [a,b,c,d,e] = &apos;hello&apos;;</span><br><span class="line">a = &apos;h&apos;;</span><br><span class="line">b = &apos;e&apos;;</span><br><span class="line">c = &apos;l&apos;;</span><br><span class="line">d = &apos;l&apos;;</span><br><span class="line">e = &apos;o&apos;;</span><br></pre></td></tr></table></figure>
<p>类似数据的对象都有一个length属性，因此可以针对length属性解构赋值：<br><code>let [length: len] = &quot;hello&quot;    //len = 5;</code></p>
<h3 id="3-4-数值和布尔值的解构赋值"><a href="#3-4-数值和布尔值的解构赋值" class="headerlink" title="3.4 数值和布尔值的解构赋值"></a>3.4 数值和布尔值的解构赋值</h3><p>解构赋值的规则是：只要等号右边的值不是对象，就先将其转为对象。由于undefined和null无法转为对象，所以对它们进行解构赋值都会报错。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let &#123;toString: s&#125; = 123;</span><br><span class="line">s === Number.prototype.toString 	//true</span><br></pre></td></tr></table></figure>
<h3 id="3-5-函数参数的解构赋值"><a href="#3-5-函数参数的解构赋值" class="headerlink" title="3.5 函数参数的解构赋值"></a>3.5 函数参数的解构赋值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function add([x,y])&#123;</span><br><span class="line">	return x + y;</span><br><span class="line">&#125;</span><br><span class="line">add([1, 2])		//3</span><br></pre></td></tr></table></figure>
<h3 id="3-6-圆括号问题"><a href="#3-6-圆括号问题" class="headerlink" title="3.6 圆括号问题"></a>3.6 圆括号问题</h3><p>不能使用圆括号的情况：</p>
<ol>
<li>变量声明语句中，模式不能带有圆括号</li>
<li>函数参数中，模式不能带有圆括号</li>
<li>不能将整个模式或嵌套模式中的一层放在圆括号中</li>
</ol>
<h3 id="3-7-用途"><a href="#3-7-用途" class="headerlink" title="3.7 用途"></a>3.7 用途</h3><p>交换变量的值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x, y] = [y, x]</span><br></pre></td></tr></table></figure>
<p>从函数返回多个值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//返回一个数组</span><br><span class="line">function example()&#123;</span><br><span class="line">	return [1,2,3];</span><br><span class="line">&#125;</span><br><span class="line">var [a,b,c] = example();</span><br><span class="line"></span><br><span class="line">//返回一个对象</span><br><span class="line">function example()&#123;</span><br><span class="line">	return &#123;</span><br><span class="line">		foo: 1,</span><br><span class="line">		bar: 2		</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line">var &#123;foo, bar&#125; = example();</span><br></pre></td></tr></table></figure>
<p>函数参数的定义：<br>解构赋值可以很方便地将一组参数与变量名对应起来：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">function f(&#123;x, y,z&#125;)&#123; ... &#125;</span><br><span class="line">f(&#123;z: 2,y: 3,x: 1&#125;)</span><br></pre></td></tr></table></figure>
<p>提取JSON数据<br>函数参数的默认值<br>遍历Map解构</p>
<h2 id="4-字符串的扩展"><a href="#4-字符串的扩展" class="headerlink" title="4.字符串的扩展"></a>4.字符串的扩展</h2><h3 id="字符串的遍历器接口"><a href="#字符串的遍历器接口" class="headerlink" title="字符串的遍历器接口"></a>字符串的遍历器接口</h3><p>ES6为字符串增加了遍历器接口，使字符串可以由 <code>for...of</code> 循环遍历。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for( let codePoint of &apos;foo&apos;)&#123;</span><br><span class="line">	console.log(codePoint)</span><br><span class="line">&#125;</span><br><span class="line">// f</span><br><span class="line">// o</span><br><span class="line">// o</span><br></pre></td></tr></table></figure>
<h3 id="includes-、startsWith-、endsWith"><a href="#includes-、startsWith-、endsWith" class="headerlink" title="includes()、startsWith()、endsWith()"></a>includes()、startsWith()、endsWith()</h3><p>传统上JavaScript只有indexOf方法可用来确定一个字符串是否包含在另一个字符串中。<br>ES6又提供了3种新的方法：</p>
<ul>
<li>includes(): 返回true/false,表示是否找到了参数字符串</li>
<li>startsWith(): 返回true/false,表示参数字符串是否在源字符串的头部</li>
<li>endsWith(): 返回true/false,表示参数字符串是否在源字符串的尾部</li>
</ul>
<p>这三个方法都支持第二个参数，表示开始搜索的位置。不过endsWith的第2个参数n表示它针对前n个字符。</p>
<h3 id="repeat"><a href="#repeat" class="headerlink" title="repeat()"></a>repeat()</h3><p>返回一个新字符串，表示将原字符串重复n次。<br>参数为0为’’<br>参数是小数，会被取整<br>参数为负数会报错<br>参数为NaN等同于0<br>如果repeat的参数是字符串，则会先转换成数字。</p>
<h3 id="ES7的字符串补全长度"><a href="#ES7的字符串补全长度" class="headerlink" title="ES7的字符串补全长度"></a>ES7的字符串补全长度</h3><ul>
<li>padStart() 头部补齐</li>
<li>padEnd() 尾部补齐</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&apos;x&apos;.padStart(5,&apos;ab&apos;)	//&apos;ababx&apos;</span><br><span class="line">&apos;x&apos;.padEnd(5,&apos;ab&apos;)		//&apos;xabab&apos;</span><br></pre></td></tr></table></figure>
<p>如果省略第二参数则空格补齐<br>如果原字符串的长度等于或大于指定的最小长度，则返回原字符串。</p>
<h3 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h3><p>传统的JavaScript输出模板通常是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var name = &apos;xiaoming&apos;;</span><br><span class="line">$(&apos;#target&apos;).append(&apos;&lt;div&gt;hello,&apos;+name+&apos;&lt;/div&gt;&apos;);</span><br></pre></td></tr></table></figure>
<p>上面的写法相当繁琐不便，ES6引入模板字符串来解决这个问题。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;#target&apos;).append(`&lt;div&gt;hello,$&#123;name&#125;&lt;/div&gt;`);</span><br></pre></td></tr></table></figure>
<p>模板字符串是增强版的字符串，用<strong>反引号(`)</strong>标识。它可以<strong>当做普通字符串使用</strong>，<strong>也可以用来定义多行字符串</strong>，或者<strong>在字符串中嵌入变量</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//普通字符串</span><br><span class="line">`In Javascript &apos;\n&apos; is a line-feed`</span><br><span class="line"></span><br><span class="line">//多行字符串</span><br><span class="line">`In Javascript this is</span><br><span class="line"> not legal`</span><br><span class="line"></span><br><span class="line">//字符串中嵌入变量</span><br><span class="line">var name = &quot;Bob&quot;, time = &quot;today&quot;;</span><br><span class="line">`Hello $&#123;name&#125;,how are you $&#123;time&#125;?`</span><br></pre></td></tr></table></figure>
<p>如果使用模板字符串表示多行字符串，所有的空格和缩进都会保存在输出中。(类似Markdown中)<br>在模板字符串中嵌入变量，需要将变量名写在<code>${}</code>中，大括号中也可以放表达式，可以进行运算。</p>
<p>模板字符串中还可以调用函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function fn()&#123;</span><br><span class="line">	return &quot;Hello,World!&quot;;</span><br><span class="line">&#125;</span><br><span class="line">`foo $&#123;fn()&#125; bar`		// foo Hello World bar</span><br></pre></td></tr></table></figure>
<p>如果大括号中的值不是字符串，将按照一般的规则(toString)转为字符串。</p>
<h2 id="5-正则的扩展"><a href="#5-正则的扩展" class="headerlink" title="5.正则的扩展"></a>5.正则的扩展</h2><h2 id="6-数值的扩展"><a href="#6-数值的扩展" class="headerlink" title="6. 数值的扩展"></a>6. 数值的扩展</h2><h3 id="二进制和八进制数值表示法"><a href="#二进制和八进制数值表示法" class="headerlink" title="二进制和八进制数值表示法"></a>二进制和八进制数值表示法</h3><p>ES6分别用前缀0b（或0B）表示二进制数值，用0o(或0O)表示二进制数值。</p>
<h3 id="6-2-Number-isFinite-NUmber-isNaN"><a href="#6-2-Number-isFinite-NUmber-isNaN" class="headerlink" title="6.2 Number.isFinite(),NUmber.isNaN()"></a>6.2 Number.isFinite(),NUmber.isNaN()</h3><p>ES6在Number对象上增加了这两个方法</p>
<h3 id="6-3-Number-parsezInt-，Number-parseFloat"><a href="#6-3-Number-parsezInt-，Number-parseFloat" class="headerlink" title="6.3 Number.parsezInt()，Number.parseFloat()"></a>6.3 Number.parsezInt()，Number.parseFloat()</h3><p>ES6将全局方法parseInt()和parseFloat()移植到了NUmber对象上，行为完全保持一致，这样做的目的是为了逐步减少全局性方法，是语言逐步模块化。</p>
<h3 id="6-4-Number-isInteger"><a href="#6-4-Number-isInteger" class="headerlink" title="6.4 Number.isInteger()"></a>6.4 Number.isInteger()</h3><p>用来判断一个值是否为整数，在Javascript内部，整数和浮点数是同样的存储方法，所以3和3.0被视为同一个值。</p>
<h3 id="6-7-Math对象的扩展"><a href="#6-7-Math对象的扩展" class="headerlink" title="6.7 Math对象的扩展"></a>6.7 Math对象的扩展</h3><p>Math.trunc() 去除一个数的小数部分，返回整数部分。对于空值和无法截取整数的值，返回NaN。<br>Math.sign() 用于判断一个数到底是正数、负数，还是零。</p>
<h2 id="7-数组的扩展"><a href="#7-数组的扩展" class="headerlink" title="7.数组的扩展"></a>7.数组的扩展</h2><h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h3><p>用于将两类对象转为真正的数组：类似数组的对象 和 可遍历对象(包括Set和Map)<br>常见的类似数组的对象是DOM操作返回的NodeList集合，以及函数内部argument对象。<br>所谓类似数组的对象，本质特征只有一点，即必须有length属性。<br>只要是部署了Iterator接口的数据结构，Array.from都能将其转化为数组。</p>
<h3 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h3><p>用于将一组值转换为数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Array.of(2,3,4)  //[2,3,4]</span><br></pre></td></tr></table></figure>
<p>这个方法的主要目的是为了弥补数组构造函数Array()的不足。<br>比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Array(3)	//[,,,]</span><br><span class="line">Array(3,11,8) //[3,11,8]</span><br></pre></td></tr></table></figure>
<p>即当Array只有一个参数n时其结果是初始化成有n个元素的数组，而不是[n]</p>
<h3 id="7-3-数组示例的copyWithin"><a href="#7-3-数组示例的copyWithin" class="headerlink" title="7.3 数组示例的copyWithin()"></a>7.3 数组示例的copyWithin()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.copyWithin(target, start = 0, end = this.length)</span><br><span class="line">target: 从该位置开始替换数据 </span><br><span class="line">start: 从该位置开始读取数据，默认为0，负数则表示倒数</span><br><span class="line">end:到该位置前停止读取数据，默认等于数组的长度，如果为负值表示倒数。</span><br></pre></td></tr></table></figure>
<h3 id="7-4-数组实例的find-和findIndex"><a href="#7-4-数组实例的find-和findIndex" class="headerlink" title="7.4 数组实例的find()和findIndex()"></a>7.4 数组实例的find()和findIndex()</h3><p>find()方法用于找出第一个符合条件的数组成员。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[&apos;a&apos;,&apos;b&apos;,&apos;c&apos;].find(function( value, index, arr )&#123;</span><br><span class="line">	if(value == &apos;b&apos;)&#123;</span><br><span class="line">		return true;	</span><br><span class="line">	&#125;</span><br><span class="line">	return false;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">[1,4,-5,23].find((n =&gt; n &lt; 0 ));</span><br></pre></td></tr></table></figure>
<p>它的参数是一个回调函数，所有数组成员依次执行该回调函数，直到找出第一个返回值为true的成员，然后返回该成员。如果没有符合条件的成员，则返回undefined。</p>
<p>findIndex()方法与find方法类似，只是它是返回第一个符合条件的数组成员的位置，如果所有成员都不符合条件，则返回-1。</p>
<h3 id="7-5-数组实例的fill"><a href="#7-5-数组实例的fill" class="headerlink" title="7.5 数组实例的fill"></a>7.5 数组实例的fill</h3><p>fill()方法使用给定值填充数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&apos;a&apos;,&apos;b&apos;,&apos;c&apos;].fill(7);	//[7,7,7]</span><br></pre></td></tr></table></figure>
<p>fill方法还可以接受第二个和第三个参数，用于指定填充的起始位置和结束位置。</p>
<h3 id="7-6-数组实例的-entries-、keys-和values"><a href="#7-6-数组实例的-entries-、keys-和values" class="headerlink" title="7.6 数组实例的 entries()、keys()和values()"></a>7.6 数组实例的 entries()、keys()和values()</h3><p>这三个方法用于遍历数组。它们都返回一个遍历器对象。可用for…of循环遍历。</p>
<p>keys() 是对键名的遍历<br>values() 是对键值的遍历<br>entries() 是对键值对的遍历</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">for( let index of [&apos;a&apos;,&apos;b&apos;].keys())&#123;</span><br><span class="line">	console.log(index);</span><br><span class="line">&#125;</span><br><span class="line">//0</span><br><span class="line">//1</span><br><span class="line"></span><br><span class="line">for( let value of [&apos;a&apos;,&apos;b&apos;].values())&#123;</span><br><span class="line">	console.log(value);</span><br><span class="line">&#125;</span><br><span class="line">//&apos;a&apos;</span><br><span class="line">//&apos;b&apos;</span><br><span class="line"></span><br><span class="line">for( let [index,elem] of [&apos;a&apos;,&apos;b&apos;].entries())&#123;</span><br><span class="line">	console.log(index,elem);</span><br><span class="line">&#125;</span><br><span class="line">//0 &apos;a&apos;</span><br><span class="line">//1 &apos;b&apos;</span><br></pre></td></tr></table></figure>
<h3 id="7-7-数组实例的includes"><a href="#7-7-数组实例的includes" class="headerlink" title="7.7 数组实例的includes()"></a>7.7 数组实例的includes()</h3><p>Array.prototype.includes方法返回一个布尔值，表示某个数组是否包含给定的值。(该方法属于ES7)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1,2,3].includes(2);	//true</span><br></pre></td></tr></table></figure>
<p>第2个参数表示搜索的起始位置，默认为0，如果第二个参数为负数，则表示倒数的位置，若此位置超出数组长度，则会重置从0开始。</p>
<h3 id="7-8-数组的空位"><a href="#7-8-数组的空位" class="headerlink" title="7.8 数组的空位"></a>7.8 数组的空位</h3><p>数组的空位指数组的某一个位置没有任何值，比如Array(3)    //[,,,]<br>注意，空位不是undefined，一个位置等于undefined依然是有值的。空位没有任何值。<br>ES5对空位的处理很不一致，大部分情况下会忽略空位，如forEach()、every()等都会跳过空位。<br>ES6明确将空位转换为undefined。</p>
<h2 id="8-函数的扩展"><a href="#8-函数的扩展" class="headerlink" title="8. 函数的扩展"></a>8. 函数的扩展</h2><h3 id="8-1-函数参数的默认值"><a href="#8-1-函数参数的默认值" class="headerlink" title="8.1 函数参数的默认值"></a>8.1 函数参数的默认值</h3><h4 id="ES6允许为函数的参数设置默认值，即直接写在参数定义的后面。"><a href="#ES6允许为函数的参数设置默认值，即直接写在参数定义的后面。" class="headerlink" title="ES6允许为函数的参数设置默认值，即直接写在参数定义的后面。"></a><em>ES6</em>允许为函数的参数设置默认值，即直接写在参数定义的后面。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function example( x, y = 0 )&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参数变量是默认声明的，所以不能用let或const再次声明。</p>
<h4 id="与解构复制默认值结合使用"><a href="#与解构复制默认值结合使用" class="headerlink" title="与解构复制默认值结合使用"></a>与解构复制默认值结合使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function foo(&#123;x, y = 5&#125;)&#123;</span><br><span class="line">	console.log(x,y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(&#123;&#125;)	//undefined,5</span><br><span class="line">foo(&#123;x1,y:7&#125;)	//5，7</span><br></pre></td></tr></table></figure>
<h4 id="参数默认值的位置"><a href="#参数默认值的位置" class="headerlink" title="参数默认值的位置"></a>参数默认值的位置</h4><p>定义默认值的参数应该是函数的尾参数。</p>
<h4 id="函数的length属性"><a href="#函数的length属性" class="headerlink" title="函数的length属性"></a>函数的length属性</h4><p>指定了默认值以后，函数的length属性将返回没有指定默认值的参数个数。<br>这是因为length属性的含义是：该函数预期传入的参数的个数。</p>
<h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><p>如果参数默认值是一个变量，则该变量所处的作用域与其他变量的作用域规则是一样的，即先是当前函数的作用域，然后才是全局作用域。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var x = 1;</span><br><span class="line">function foo(x, y = x)&#123;</span><br><span class="line">	console.log(y);</span><br><span class="line">&#125;</span><br><span class="line">foo(2)	//2</span><br></pre></td></tr></table></figure>
<h3 id="8-2-rest参数"><a href="#8-2-rest参数" class="headerlink" title="8.2 rest参数"></a>8.2 rest参数</h3><p>ES6引入了<strong>rest参数</strong>，形式为 <strong>…变量名</strong><br>用于获取函数的多余参数，这样就不需要使用arguments对象了。<br>rest参数搭配的变量是一个<strong>数组</strong>，该变量将多余的参数放入其中。<br>注意：rest参数之后不能再有其他参数(即只能是最后一个参数)，否则会报错。<br>函数的length属性不包括rest参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function foo( x, ...others )&#123;</span><br><span class="line">	console.log(others);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-3-扩展运算符"><a href="#8-3-扩展运算符" class="headerlink" title="8.3 扩展运算符"></a>8.3 扩展运算符</h3><p>扩展运算符是三个点(<strong>…</strong>)，它好比<strong>rest参数的逆运算</strong>，将一个数组转为用逗号分隔的参数序列。</p>
<h2 id="Promise对象"><a href="#Promise对象" class="headerlink" title="Promise对象"></a>Promise对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">var promise  = new Promise(function(resolve,reject)&#123;</span><br><span class="line">	$.ajax(&#123;</span><br><span class="line">		async:true,</span><br><span class="line">		url: &apos;http://172.24.7.15:8080/aaa/subscriber/get_subscriber.do&apos;,</span><br><span class="line">		type:&apos;GET&apos;,</span><br><span class="line">		dataType: &apos;jsonp&apos;,</span><br><span class="line">		cache:false,</span><br><span class="line">		jsonpCallback:&quot;callback_subscriber&quot;,</span><br><span class="line">		success:function(data)&#123;</span><br><span class="line">			console.log(data);</span><br><span class="line">			if(data)&#123;</span><br><span class="line">				resolve(1);</span><br><span class="line">			&#125;else&#123;</span><br><span class="line">				reject(2);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.then(function(value)&#123;</span><br><span class="line">	console.log(value,&apos;ok&apos;);</span><br><span class="line">&#125;,function(value)&#123;</span><br><span class="line">	console.log(value,&apos;failure&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/ES6/">ES6</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://dhshen.github.io/2016/09/09/ES6读书笔记/" data-title="ES6读书笔记 | 向上爬的蜗牛" data-tsina="undefined" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/10/23/webpack入门实践/" title="webpack入门实践">
  <strong>上一篇：</strong><br/>
  <span>
  webpack入门实践</span>
</a>
</div>


<div class="next">
<a href="/2016/09/05/Git学习笔记/"  title="Git学习笔记">
 <strong>下一篇：</strong><br/> 
 <span>Git学习笔记
</span>
</a>
</div>

</nav>

	


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  

  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/python/" title="python">python<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/css/" title="css">css<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Git/" title="Git">Git<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/php/" title="php">php<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/npm/" title="npm">npm<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/charles/" title="charles">charles<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ES6/" title="ES6">ES6<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/React/" title="React">React<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/svg/" title="svg">svg<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/设计模式/" title="设计模式">设计模式<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/运维/" title="运维">运维<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/mongodb/" title="mongodb">mongodb<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Nginx/" title="Nginx">Nginx<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/基础/" title="基础">基础<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/antd/" title="antd">antd<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/svn/" title="svn">svn<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/http2/" title="http2">http2<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/https/" title="https">https<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/JS/" title="JS">JS<sup>1</sup></a></li>
			
		
		</ul>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018 
		
		<a href="/about" target="_blank" title="dhshen">dhshen</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
