
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>webpack入门实践 | 向上爬的蜗牛</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="dhshen">
    

    
    <meta name="description" content="一些基本的概念Webpack是一种模块化的解决方案webpack是以CommonJS的形式来书写脚本的。能被Webpack模块化的不仅仅是JS，还有css以及图片等。  WebPack可以看做是模块打包机：它做的事情是，分析你的项目结构，找到JavaScript模块以及其它的一些浏览器不能直接运行的拓展语言（Scss，TypeScript等），并将其打包为合适的格式以供浏览器使用。  Webpac">
<meta name="keywords" content="webpack">
<meta property="og:type" content="article">
<meta property="og:title" content="webpack入门实践">
<meta property="og:url" content="https://dhshen.github.io/2016/10/23/webpack入门实践/index.html">
<meta property="og:site_name" content="向上爬的蜗牛">
<meta property="og:description" content="一些基本的概念Webpack是一种模块化的解决方案webpack是以CommonJS的形式来书写脚本的。能被Webpack模块化的不仅仅是JS，还有css以及图片等。  WebPack可以看做是模块打包机：它做的事情是，分析你的项目结构，找到JavaScript模块以及其它的一些浏览器不能直接运行的拓展语言（Scss，TypeScript等），并将其打包为合适的格式以供浏览器使用。  Webpac">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://i.imgur.com/WztPyfG.jpg">
<meta property="og:updated_time" content="2018-01-15T11:51:16.733Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="webpack入门实践">
<meta name="twitter:description" content="一些基本的概念Webpack是一种模块化的解决方案webpack是以CommonJS的形式来书写脚本的。能被Webpack模块化的不仅仅是JS，还有css以及图片等。  WebPack可以看做是模块打包机：它做的事情是，分析你的项目结构，找到JavaScript模块以及其它的一些浏览器不能直接运行的拓展语言（Scss，TypeScript等），并将其打包为合适的格式以供浏览器使用。  Webpac">
<meta name="twitter:image" content="http://i.imgur.com/WztPyfG.jpg">

    
    <link rel="alternative" href="/atom.xml" title="向上爬的蜗牛" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="向上爬的蜗牛">向上爬的蜗牛</a></h1>
				<h2 class="blog-motto">记录搬砖路上的点点滴滴</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:dhshen.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/10/23/webpack入门实践/" title="webpack入门实践" itemprop="url">webpack入门实践</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="dhshen" target="_blank" itemprop="author">dhshen</a>
		
  <p class="article-time">
    <time datetime="2016-10-23T03:14:51.000Z" itemprop="datePublished"> 发表于 2016-10-23</time>
    
  </p>
</header>
	<div class="article-content">
		
		<h2 id="一些基本的概念"><a href="#一些基本的概念" class="headerlink" title="一些基本的概念"></a>一些基本的概念</h2><p><strong>Webpack是一种模块化的解决方案</strong><br>webpack是以CommonJS的形式来书写脚本的。<br>能被Webpack模块化的不仅仅是JS，还有css以及图片等。</p>
<blockquote>
<p>WebPack可以看做是模块打包机：它做的事情是，分析你的项目结构，找到JavaScript模块以及其它的一些浏览器不能直接运行的拓展语言（Scss，TypeScript等），并将其打包为合适的格式以供浏览器使用。</p>
<hr>
<p>Webpack的工作方式是：把你的项目当做一个整体，通过一个给定的主文件（如：index.js），Webpack将从这个文件开始找到你的项目的所有依赖文件，使用loaders处理它们，最后打包为一个浏览器可识别的JavaScript文件。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ webpack --config XXX.js   //使用另一份配置文件（比如XXX.js）来打包</span><br><span class="line">$ webpack --watch   //监听变动并自动打包</span><br><span class="line">$ webpack -p    //压缩混淆脚本，这个非常非常重要！</span><br><span class="line">$ webpack -d    //生成map映射文件，告知哪些模块被最终打包到哪里了</span><br></pre></td></tr></table></figure>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack -g	//全局安装</span><br><span class="line">npm install webpack --save-dev	//安装到项目目录</span><br></pre></td></tr></table></figure>
<h3 id="生成Source-Maps"><a href="#生成Source-Maps" class="headerlink" title="生成Source Maps"></a>生成Source Maps</h3><p>在webpack的配置文件中配置source maps，需要配置devtool，它有以下四种不同的配置选项，各具优缺点，描述如下：</p>
<ul>
<li>source-map： 在一个单独的文件中产生一个完整且功能完全的文件。这个文件具有最好的source map，但是它会减慢打包文件的构建速度；</li>
<li>cheap-module-source-map：在一个单独的文件中生成一个不带列映射的map，不带列映射提高项目构建速度，但是也使得浏览器开发者工具只能对应到具体的行，不能对应到具体的列（符号），会对调试造成不便；</li>
<li>eval-source-map：使用eval打包源文件模块，在同一个文件中生成干净的完整的source map。这个选项可以在不影响构建速度的前提下生成完整的sourcemap，但是对打包后输出的JS文件的执行具有性能和安全的隐患。不过在开发阶段这是一个非常好的选项，但是在生产阶段一定不要用这个选项；</li>
<li>cheap-module-eval-source-map：这是在打包文件时最快的生成source map的方法，生成的Source Map 会和打包后的JavaScript文件同行显示，没有列映射，和eval-source-map选项具有相似的缺点；</li>
</ul>
<p>上述选项由上到下打包速度越来越快，不过同时也具有越来越多的负面作用，较快的构建速度的后果就是对打包后的文件的的执行有一定影响。<br>在学习阶段以及在小到中性的项目上，eval-source-map是一个很好的选项，不过记得只在开发阶段使用它</p>
<h2 id="从一个简单的DEMO开始"><a href="#从一个简单的DEMO开始" class="headerlink" title="从一个简单的DEMO开始"></a>从一个简单的DEMO开始</h2><ol>
<li>安装webpack:<code>npm install webpack --save-dev</code></li>
<li>在项目根目录下新建<code>webpack.config.js</code>文件</li>
<li>目录结构<br><img src="http://i.imgur.com/WztPyfG.jpg" alt="目录结构"></li>
</ol>
<p>index.html文件中引入最终要生成的js文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//index.html</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;Webpack&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</span><br><span class="line">	&lt;script src=&quot;../dist/js/bundle.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>index.js是项目的打包的入口文件,其中引入了testmodule模快<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//index.js</span><br><span class="line">var test = require(&apos;./testmodule.js&apos;);</span><br><span class="line">test.print();</span><br><span class="line">var node = document.querySelector(&apos;#root&apos;);</span><br><span class="line">node.innerHTML = test.txt;</span><br></pre></td></tr></table></figure></p>
<p>testmodule.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//testmodule.js</span><br><span class="line">module.exports=&#123;</span><br><span class="line">	print:function()&#123;</span><br><span class="line">		console.log(&apos;there is testmodule print&apos;);</span><br><span class="line">	&#125;,</span><br><span class="line">	txt: &apos;hello,webpack&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>webpack.config.js配置文件中的内容,就是简单的定义了入口文件和最终生成的文件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">module.exports=&#123;</span><br><span class="line">	entry: __dirname + &apos;/src/js/index.js&apos;,</span><br><span class="line">	output:&#123;</span><br><span class="line">		path:__dirname + &apos;/dist/js/&apos;,</span><br><span class="line">		filename:&apos;bundle.js&apos;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在命令行运行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack</span><br></pre></td></tr></table></figure></p>
<p>/dist/js/目录下就生成了bundle.js文件了。</p>
<h2 id="第2个DEMO：多个入口文件"><a href="#第2个DEMO：多个入口文件" class="headerlink" title="第2个DEMO：多个入口文件"></a>第2个DEMO：多个入口文件</h2><p>此时webpack.config.js中的内容是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">module.exports=&#123;</span><br><span class="line">	devtool: &apos;eval-source-map&apos;,</span><br><span class="line">	entry: &#123;</span><br><span class="line">		index: &apos;./src/js/index&apos;,</span><br><span class="line">		nav: &apos;./src/js/nav&apos;</span><br><span class="line">	&#125;,</span><br><span class="line">	output:&#123;</span><br><span class="line">		path:&apos;./dist/js/&apos;,</span><br><span class="line">		filename:&apos;[name].bundle.js&apos;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>index.html和nav.html两个html分别包含了两个不同的js文件index.js以及nav.js，因此配置了两个入口，分别生成index.bundle.js以及nav.bundle.js两个js文件。<br>关于entry的配置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. entry的值是字符串，这个字符串对应的模块会在启动的时候加载</span><br><span class="line">2. entry的值是数组，这个数组内所有模块会在启动的时候加载，数组的最后一个元素作为export</span><br><span class="line">3. entry的值是对象，可以构建多个bundle</span><br></pre></td></tr></table></figure></p>
<h2 id="关于webpack-dev-server"><a href="#关于webpack-dev-server" class="headerlink" title="关于webpack-dev-server"></a>关于webpack-dev-server</h2><p><a href="http://www.tuicool.com/articles/BZrQ3mv" target="_blank" rel="noopener">webpack-dev-server 使用方法，看完还不会的来找我~</a></p>
<p>##Loaders<br>通过使用不同的loader，webpack调用外部的脚本或工具可以对各种各样的格式的文件进行处理，比如说分析JSON文件并把它转换为JavaScript文件，或者说把下一代的JS文件(ES6/ES7)转换为现代浏览器可以识别的JS文件。对于React的开发而言，合适的loader可以把React的JSX文件转换为JS文件。</p>
<p>Loaders需要单独安装并且需要在Webpack.config.js下的modules关键字下进行配置，Loaders是一个数组，其中的每一个loader的配置选项包括以下几个方面：</p>
<ul>
<li>test：一个匹配loaders所处理的文件的扩展名的正则表达式(必须)</li>
<li>loader：loader的名称(XXX-loader，-loader可省略)，多个loader之间用“!”连接起来。(必须)</li>
<li>include/exclude：手动添加必须处理的文件(文件夹)或屏蔽不需要处理的文件(文件夹)(可选)；</li>
<li>query：为loaders提供额外的设置选项(可选)</li>
</ul>
<p>loader需要单独安装，一般的安装命令如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install xxx-loader --save-dev</span><br></pre></td></tr></table></figure></p>
<p>然后在webpack.config.js中的引用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">以解析JSON为JavaScript对象的loader为例</span><br><span class="line"></span><br><span class="line">//安装</span><br><span class="line">npm install json-loader --save-dev</span><br><span class="line"></span><br><span class="line">//在webpack.config.js中的相关配置</span><br><span class="line">module.exports = &#123;</span><br><span class="line"></span><br><span class="line">	module:&#123;</span><br><span class="line">		loaders:[</span><br><span class="line">			&#123;</span><br><span class="line">				test: /\.json$/,</span><br><span class="line">				loader: &apos;json&apos;		</span><br><span class="line">			&#125;</span><br><span class="line">		]	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>经过上面这样配置之后，项目中所有以.json结尾的json文件加载时都会转换为JS对象。</p>
<h2 id="Webpack与Babel"><a href="#Webpack与Babel" class="headerlink" title="Webpack与Babel"></a>Webpack与Babel</h2><h3 id="Babel的安装与配置"><a href="#Babel的安装与配置" class="headerlink" title="Babel的安装与配置"></a>Babel的安装与配置</h3><p>Babel其实是几个模块化的包，其核心功能位于称为babel-core的npm包中，不过webpack把它们整合在一起使用，但是对于每一个你需要的功能或拓展，你都需要安装单独的包（用得最多的是解析Es6的babel-preset-es2015包和解析JSX的babel-preset-react包）。</p>
<p>一次性安装这些依赖包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-core babel-loader babel-preset-es2015 babel-preset-react</span><br></pre></td></tr></table></figure></p>
<p>在webpack.config.js中配置babel：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">	module:&#123;</span><br><span class="line">		loaders:[</span><br><span class="line">			&#123;</span><br><span class="line">				test:/\.js$/,</span><br><span class="line">				exclude:&apos;/node_modules/&apos;,</span><br><span class="line">				loader:&apos;babel&apos;,</span><br><span class="line">				query:&#123;</span><br><span class="line">					presets:[&apos;es2015&apos;,&apos;react&apos;]</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		]	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>现在webpack的配置已经允许你使用ES6以及JSX的语法了.不过使用react还需要安装React和React-DOM</p>
<h2 id="DEMO：ES6模块化实践"><a href="#DEMO：ES6模块化实践" class="headerlink" title="DEMO：ES6模块化实践"></a>DEMO：ES6模块化实践</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//webpack.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">	devtool:&apos;eval-source-map&apos;,</span><br><span class="line">	entry:__dirname + &apos;/js/index.js&apos;,</span><br><span class="line">	output:&#123;</span><br><span class="line">		path: __dirname + &apos;/dist/&apos;,</span><br><span class="line">		filename: &apos;index.bundle.js&apos;</span><br><span class="line">	&#125;,</span><br><span class="line">	module:&#123;</span><br><span class="line">		loaders:[</span><br><span class="line">			&#123;</span><br><span class="line">				test:/\.js$/,</span><br><span class="line">				exclude:&apos;/node_modules/&apos;,</span><br><span class="line">				loader:&apos;babel&apos;,</span><br><span class="line">				query:&#123;</span><br><span class="line">					presets:[&apos;es2015&apos;]</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//a.js</span><br><span class="line">import B from &apos;./b&apos;</span><br><span class="line"></span><br><span class="line">class A extends B&#123;</span><br><span class="line">	constructor()&#123;</span><br><span class="line">		super();</span><br><span class="line">		console.log(&apos;A init.&apos;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	sayHi()&#123;</span><br><span class="line">		console.log(&apos;A:hi&apos;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default A;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//b.js</span><br><span class="line">class B &#123;</span><br><span class="line">	constructor()&#123;</span><br><span class="line">		console.log(&apos;B init.&apos;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	printf(str)&#123;</span><br><span class="line">		console.log(&apos;B.print:&apos;+str);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default B;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//index.js</span><br><span class="line">import A from &apos;./a&apos;</span><br><span class="line"></span><br><span class="line">let obj = new A();</span><br><span class="line">obj.printf(&apos;test&apos;);</span><br><span class="line">obj.sayHi();</span><br><span class="line"></span><br><span class="line">//B init.</span><br><span class="line">//A init.</span><br><span class="line">//B.print:test</span><br><span class="line">//A:hi</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//index.html</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;ES6-Webpack&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">		this is a test for es6+webpack</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">	&lt;script src=&quot;dist/index.bundle.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Webpack与React"><a href="#Webpack与React" class="headerlink" title="Webpack与React"></a>Webpack与React</h2><p>使用React需要安装React和React-DOM<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev react react-dom</span><br></pre></td></tr></table></figure></p>
<p>webpack.config.js的配置见上一节<br>然后我们就可以使用ES6的语法来编写React应用了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//Greeter,js</span><br><span class="line">import React, &#123;Component&#125; from &apos;react&apos;</span><br><span class="line">import config from &apos;./config.json&apos;;</span><br><span class="line"></span><br><span class="line">class Greeter extends Component&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;config.greetText&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default Greeter</span><br></pre></td></tr></table></figure></p>
<h2 id="DEMO-React"><a href="#DEMO-React" class="headerlink" title="DEMO: React"></a>DEMO: React</h2><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><p>webpack提供两个工具处理样式表，css-loader 和 style-loader，二者处理的任务不同，css-loader使你能够使用类似@import 和 url(…)的方法实现 require()的功能,style-loader将所有的计算后的样式加入页面中，二者组合在一起使你能够把样式表嵌入webpack打包后的JS文件中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//安装</span><br><span class="line">npm install --save-dev style-loader css-loader</span><br></pre></td></tr></table></figure>
<p>使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">	module:&#123;</span><br><span class="line">		loaders:[</span><br><span class="line">			&#123;</span><br><span class="line">				test:/\.css$/,</span><br><span class="line">				loader:&apos;style!css&apos;	//添加对样式表的处理</span><br><span class="line">			&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>webpack只有单一的入口，其它的模块需要通过 import, require, url等导入相关位置，为了让webpack能找到css文件，我们把它导入入口js文件中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &apos;./main.css&apos;;	//使用require导入css文件</span><br></pre></td></tr></table></figure></p>
<p>###参考链接<br><a href="https://segmentfault.com/a/1190000006178770#articleHeader0" target="_blank" rel="noopener">入门 Webpack，看这篇就够了</a><br><a href="http://www.w2bc.com/Article/50764" target="_blank" rel="noopener">一小时包教会 —— webpack 入门指南</a></p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/webpack/">webpack</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://dhshen.github.io/2016/10/23/webpack入门实践/" data-title="webpack入门实践 | 向上爬的蜗牛" data-tsina="undefined" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/12/09/mobiscroll实践：移动端仿苹果select效果的实现/" title="mobiscroll实践：移动端仿苹果select效果的实现">
  <strong>上一篇：</strong><br/>
  <span>
  mobiscroll实践：移动端仿苹果select效果的实现</span>
</a>
</div>


<div class="next">
<a href="/2016/09/09/ES6读书笔记/"  title="ES6读书笔记">
 <strong>下一篇：</strong><br/> 
 <span>ES6读书笔记
</span>
</a>
</div>

</nav>

	


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  

  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/python/" title="python">python<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/css/" title="css">css<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Git/" title="Git">Git<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/动画/" title="动画">动画<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/emoji/" title="emoji">emoji<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/charles/" title="charles">charles<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ES6/" title="ES6">ES6<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/React/" title="React">React<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/npm/" title="npm">npm<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/svn/" title="svn">svn<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/设计模式/" title="设计模式">设计模式<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/运维/" title="运维">运维<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/antd/" title="antd">antd<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/mongodb/" title="mongodb">mongodb<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/apache/" title="apache">apache<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/php/" title="php">php<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/http2/" title="http2">http2<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/https/" title="https">https<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/JS/" title="JS">JS<sup>1</sup></a></li>
			
		
		</ul>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2019 
		
		<a href="/about" target="_blank" title="dhshen">dhshen</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
